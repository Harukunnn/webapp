<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orchestrateur Agentique Voyage</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <nav class="topbar" aria-label="Barre de statut premium">
    <div class="topbar-brand">
      <span class="logo" aria-hidden="true">✦</span>
      <div>
        <p class="eyebrow">Conciergerie</p>
        <strong>Atlas Luxury Ops</strong>
      </div>
    </div>
    <div class="service-health" id="serviceHealth" role="status">
      <span class="dot online" aria-hidden="true"></span>
      <span class="health-text">Service stable · Uptime 99.9% · Latence &lt; 280ms · Données chiffrées</span>
    </div>
    <div class="topbar-actions">
      <button type="button" id="btnConcierge" class="ghost">Concierge 24/7</button>
    </div>
  </nav>

  <header class="hero">
    <div>
      <p class="eyebrow">Voyage privé</p>
      <h1>Atlas</h1>
      <p class="lede">Luxe silencieux. Signal pur.</p>
    </div>
    <div class="hero-meta">
      <div class="badge">Parcours linéaire : Profil → Vols → Hôtels → Activités → Récap</div>
      <p class="muted" id="intelStatus">Recherche non lancée</p>
    </div>
  </header>

  <main class="layout">
    <div class="thinking-indicator" id="thinkingIndicator">
      <p class="label">Prêt.</p>
    </div>

    <section class="panel trust" aria-labelledby="trust-title">
      <header class="panel-header">
        <div>
          <p class="eyebrow">Transparence temps réel</p>
          <h2 id="trust-title">Fiabilité visible</h2>
        </div>
      </header>
      <ul class="trust-list" aria-label="Indicateurs de confiance">
        <li id="uptimeCopy">Monitoring actif, uptime 99.9%, latence stable.</li>
        <li>Données chiffrées, stockage UE, consentement explicite.</li>
        <li>Concierge prioritaire 24/7, SLA appliqué.</li>
      </ul>
    </section>

    <section class="panel audit" aria-labelledby="audit-title">
      <header class="panel-header">
        <div>
          <p class="eyebrow">Red team UX/UI</p>
          <h2 id="audit-title">Contrôles essentiels</h2>
        </div>
      </header>
      <div class="audit-grid">
        <article class="audit-card"><h3>Accessibilité</h3><p>Contraste AA, focus visible, aria-live sur le flux.</p></article>
        <article class="audit-card"><h3>Sécurité</h3><p>Blocage des destinations sensibles + vérifications cohérence.</p></article>
        <article class="audit-card"><h3>Fidélité</h3><p>Parcours linéaire, options limitées, résumé exportable.</p></article>
      </div>
    </section>

    <section class="panel concierge" aria-labelledby="concierge-title">
      <header class="panel-header">
        <div>
          <p class="eyebrow">Onboarding concierge</p>
          <h2 id="concierge-title">Personalisation immédiate</h2>
        </div>
      </header>
      <div class="concierge-grid">
        <div class="concierge-card concierge-card--accent">
          <h3>Mini-entretien</h3>
          <form id="conciergeForm" class="micro-form">
            <label class="field">
              <span>Priorité du séjour</span>
              <select name="priority">
                <option value="repos">Repos & lenteur</option>
                <option value="signature">Moments signature</option>
                <option value="business">Business + confort</option>
              </select>
            </label>
            <label class="field">
              <span>Tempo journalier</span>
              <select name="pace">
                <option value="soft">2 temps forts</option>
                <option value="balanced" selected>3 temps forts</option>
                <option value="dense">4+ temps forts</option>
              </select>
            </label>
            <label class="field">
              <span>Niveau de conciergerie</span>
              <select name="service">
                <option value="digital">Digital uniquement</option>
                <option value="hybrid" selected>Hybride (humain si besoin)</option>
                <option value="dedicated">Butler dédié</option>
              </select>
            </label>
            <div class="actions">
              <button type="submit" class="primary">Calibrer l'expérience</button>
            </div>
          </form>
        </div>
        <div class="concierge-card">
          <h3>Concierge & assistance</h3>
          <p class="muted">Disponible en un clic. Rappel sous 2 minutes en moyenne.</p>
          <ul class="checklist">
            <li>Chat sécurisé</li>
            <li>Rappel téléphonique</li>
            <li>Escalade prioritaire</li>
          </ul>
          <div class="concierge-actions">
            <button type="button" class="ghost" id="btnCallMe">Demander un rappel</button>
          </div>
          <p class="muted" id="conciergeNote">Personnalisation en attente des réponses clés.</p>
        </div>
      </div>
    </section>

    <section class="panel" aria-labelledby="safety-title">
      <header class="panel-header">
        <div>
          <p class="eyebrow">Agent de sécurité</p>
          <h2 id="safety-title">Filtre risques</h2>
        </div>
        <div class="panel-actions">
          <button id="btnReset" class="ghost">Réinitialiser</button>
        </div>
      </header>
      <p class="muted">Le système bloque automatiquement toute demande illégale ou dangereuse et propose des alternatives sûres.</p>
      <details class="banned-summary">
        <summary>Destinations bannies (aperçu)</summary>
        <div class="banned-grid" aria-label="Liste des zones bannies">
          <article class="chip">Corée du Nord</article>
          <article class="chip">Syrie</article>
          <article class="chip">Afghanistan</article>
          <article class="chip">Yémen</article>
          <article class="chip">Somalie</article>
          <article class="chip">Libye</article>
          <article class="chip">Gaza</article>
          <article class="chip">Zones de guerre actives</article>
          <article class="chip">Bases militaires restreintes</article>
          <article class="chip">Destinations fictives ou impossibles</article>
          <article class="chip">Activités illégales ou immorales</article>
        </div>
      </details>
    </section>

    <section class="panel" aria-labelledby="discovery-title">
      <header class="panel-header solo">
        <div>
          <p class="eyebrow">Agent 0 — Découverte</p>
          <h2 id="discovery-title">Collecte rapide des intentions</h2>
          <p class="muted">Champs essentiels en premier, préférences en option.</p>
        </div>
        <div class="panel-actions" aria-live="polite">
          <span class="pill" id="status">En attente</span>
        </div>
        <span class="pill" id="status">En attente</span>
      </header>
      <form id="discoveryForm" class="grid compact ultra">
        <label class="field">
          <span>Départ</span>
          <input name="origin" type="text" placeholder="Paris" required />
        </label>
        <label class="field">
          <span>Destination</span>
          <input name="destination" type="text" placeholder="Tokyo" required />
        </label>
        <label class="field">
          <span>Budget</span>
          <select name="budget">
            <option value="low">Bas</option>
            <option value="mid" selected>Moyen</option>
            <option value="high">Haut</option>
          </select>
        </label>
        <label class="field">
          <span>Durée</span>
          <input name="duration" type="number" min="2" max="21" value="7" />
        </label>
        <details class="full optional">
          <summary>Préférences (facultatif)</summary>
          <div class="grid compact">
            <label class="field">
              <span>Vibe principale</span>
              <select name="vibe">
                <option value="relax">Relax</option>
                <option value="aventure">Aventure</option>
                <option value="city">City break</option>
                <option value="romantic">Romantique</option>
                <option value="famille">Famille</option>
                <option value="mix">Mix</option>
              </select>
            </label>
            <label class="field">
              <span>Flexibilité</span>
              <select name="flex">
                <option value="dates-fixes">Dates fixes</option>
                <option value="dates-flex">Dates flexibles</option>
                <option value="destination-flex">Destination ouverte</option>
              </select>
            </label>
            <label class="field">
              <span>Voyageurs</span>
              <select name="travelers">
                <option value="solo">Solo</option>
                <option value="couple">Couple</option>
                <option value="famille">Famille</option>
                <option value="amis">Amis</option>
                <option value="business">Business</option>
              </select>
            </label>
            <label class="field full">
              <span>Contraintes ou préférences clés</span>
              <textarea name="notes" rows="2" placeholder="ex. éviter les nuits trop chargées, besoin d’accès fauteuil…"></textarea>
            </label>
          </div>
        </details>
        <div class="actions full">
          <button type="submit" class="primary">Lancer le flux agentique</button>
        </div>
      </form>
    </section>

    <section class="panel" aria-labelledby="intel-title">
      <header class="panel-header solo">
        <div>
          <p class="eyebrow">Recherche & preuves visuelles</p>
          <h2 id="intel-title">Signal d'information</h2>
        </div>
        <div class="panel-actions">
          <button id="btnRefreshIntel" class="ghost" disabled>Actualiser</button>
        </div>
        <button id="btnRefreshIntel" class="ghost" disabled>Pulse</button>
      </header>
      <p class="muted">Résumé factuel et quelques visuels. Les alternatives ne s’affichent que sur demande.</p>
      <div class="intel-grid">
        <div>
          <h3 class="intel-heading">Infos clés</h3>
          <div id="intelCards" class="intel-cards"></div>
          <div id="imageStrip" class="image-strip" aria-live="polite"></div>
          <ul id="liveScrapeList" class="live-scrape__list" aria-live="polite"></ul>
        </div>
      </details>
      <div id="intelError" class="alert" role="status" aria-live="polite"></div>
    </section>

    <section class="panel" aria-labelledby="workflow-title">
      <header class="panel-header solo">
        <div>
          <p class="eyebrow">Agents 1 → 6</p>
          <h2 id="workflow-title">Itinéraire guidé et épuré</h2>
        </div>
      </header>
      <div class="workflow minimal">
        <ol id="stepList" class="steps inline">
          <li class="step active">Profil</li>
          <li class="step">Vols</li>
          <li class="step">Séjour</li>
          <li class="step">Récap</li>
        </ol>
        <div class="content" id="conversation" aria-live="polite">
          <p class="muted">Flux réduit, 2 options premium.</p>
        </div>
      </div>
    </section>

    <section class="panel" aria-labelledby="summary-title">
      <header class="panel-header solo">
        <div>
          <p class="eyebrow">Sortie finale</p>
          <h2 id="summary-title">Résumé conforme au prompt</h2>
        </div>
        <div class="panel-actions">
          <button id="btnExport" class="ghost" disabled>Copier le texte</button>
        </div>
        <button id="btnExport" class="ghost" disabled>Copier</button>
      </header>
      <div id="summary" class="summary" aria-live="polite"></div>
    </section>

    <section class="panel feedback" aria-labelledby="feedback-title">
      <header class="panel-header">
        <div>
          <p class="eyebrow">Boucle d'amélioration</p>
          <h2 id="feedback-title">Feedback express</h2>
        </div>
      </header>
      <form id="feedbackForm" class="micro-form">
        <label class="field">
          <span>Votre satisfaction globale</span>
          <div class="nps" role="radiogroup" aria-label="Note de satisfaction">
            <label><input type="radio" name="score" value="satisfait" checked /> Satisfait</label>
            <label><input type="radio" name="score" value="ameliorer" /> À améliorer</label>
          </div>
        </label>
        <label class="field">
          <span>Un point à améliorer ?</span>
          <input type="text" name="comment" placeholder="ex. alléger l'étape vols" />
        </label>
        <div class="actions">
          <button class="primary" type="submit">Envoyer</button>
          <p class="muted" id="feedbackStatus" role="status"></p>
        </div>
      </form>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
